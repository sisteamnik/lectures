# Обработка символьных данных
[TOC]
### Процедуры и функции для работы со строками.
Для обработки данных типа `string` в среде Лазарус встроены следующие функции и процедуры:

1. `strToInt` (`intToStr`) -- перевод строки в целочисленный тип (перевод целочисленного типа в строку).
2. `strToFloat` (`floatToStr`) -- перевод строки в вещественное число(перевод вещественного числа в строку) 
3. `concat` -- операция конкатенации(объединения) строк.
        > **Замечание**: команду concat можно заменить знаком сложения.
        
4. `copy(s,i,j)` -- копирование из строки `s`, начиная с позиции `i`, `j` символов.
    > Пример: 
    ```lazarus
  s := 'февраль';
  s1 := copy(s, 3, 4);
  // s1 = 'раль'
    ```

5. `delete(s,i,j)` -- удаление из строки s, начиная с позиции i j символов. Это процедура она изменяет строку s и не возвращает значения.
    > Пример: 
    ```lazarus
   s := 'февраль';
   delete(s, 2, 3);
  // s = 'фаль'
    ```

6. `insert(s,s1,i)` -- вставка в подстроки `s` в строку `s1`, начиная `с` позиции `i`. Тоже процедура.
    > Пример: 
    ```lazarus
  s := 'февраль';
  insert('ее', s, 5);
  // s = 'феврееаль'
    ```
    
7. `length(s)` -- возвращает длину строки `s`.
    > Пример:
    ```lazarus
  s := 'февраль';
  n := length(s);
  // n = 7
    ```

8. `pos(s1,s2)` -- определяет позицию подстроки `s1` в строке `s2`.
    > Пример: 
    ```lazarus
    s1 := 'лок';
    s2 := 'молоко';
    n := pos(s1, s2);
    // n = 3
    ```
    
9. `str(n,s)` -- преобразует число `n` в строку `s`.

10. `val(s,n,x)` -- преобразует строку `s` в число `n`, если таковое возможно, иначе возвращает позицию первого символа(`x`), который нельзя перевести в число. Если `x!=0`, то число не удалось преобразовать. 
    > Пример: 
    ```lazarus
    s1 := '1234';
    val(s1, n, x);
    // n = 1234; x = 0
    n := 0;
    s1 := '12a34';
    val(s1, n, x);
    // n = 0; x = 3;
    ```

### Функции для работы с данными типа char
При работе с данными, типа `char` можно использовать такие команды:

1.  `ord(x)` -- возвращает численное значение кода символа.
    ```lazarus
  n := ord('7') - ord('0')
  // n = 7
    ```
    
2. `pred(x)` -- предыдущий символ

3. `succ(x)` -- следующий символ
    ```lazarus
    s := pred('b');
    // s = 'a'
    ```

4. `chr(n)` -- возвращает символ по номеру.

### Примеры

#### Пример 1.
Задать строку s и определить каких букв в слове больше.
```lazarus
// ..

var s: string;
    i, k1, k2: integer;
    
// ..

s := Edit1.Text;
k1 := 0;
k2 := 0;
for i:=1 to length(s) do
begin
  if s[i] = 'а' then
    k1 := k1 + 1;
  if s[i] = 'н' then
    k2 := k2 + 1;
end;
if k1 > k2 then
  Edit2.Text := 'Букв а больше';
else
  if k1 = k2 then
    Edit2.Text := 'Букв а и н одинаково';
  else 
    Edit2.Text := 'Букв н больше';
```

#### Пример 2.
Дан текст, слова в тексте разделены одним пробелом, определить сколько слов в тексте.
```lazarus
// ..

var s, s1: string;
    i, k1, k2: integer;
    
// ..

s := Edit1.Text;
k := 0;
for i:=1 to length(s) do
begin
  if s[i] <> ' ' then
    s1 := s1 + s[i];
  else
    begin
    // если изменить код на 
    // if s1 <>'' then
    // k := k + 1;
    // s1 := '';
    // то задача будет корректно работать с любым
    // количество пробелов между словами
    s1 := '';
    l := k + 1;
    end;
end;
if k1 > k2 then
  Edit2.Text := 'Букв а больше';
else
  if k1 = k2 then
    Edit2.Text := 'Букв а и н одинаково';
  else 
    Edit2.Text := 'Букв н больше';
```

> **Домашнее задание:** написать программу, выводящую каждое слово заданной фразы в отдельной строке.

### Подпрограммы в Lazarus

Подпрограммы представляют собой инструмент, с помощью которого любая программа может быть разбита на ряд в известной степени независимых друг от друга частей. Такое разбиение необходимо по двум причинам.